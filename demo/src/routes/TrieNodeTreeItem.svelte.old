<script lang="ts">
	import type { TrieNode } from 'trie-search';

	export let path: string;
	export let text: string;
	export let level: number;
	export let node: TrieNode<string>;

	$: children = [...(node.children?.entries() || [])];
	$: console.log(text, children);
</script>

<div class="trie-node" style={`--level: ${level}px`}>
	<div class="node">{text}</div>
	{#each children as child}
		<svelte:self text={child[0]} path={`${path}/${child[0]}`} node={child[1]} level={level + 1} />
	{/each}
</div>

<style>
	.node {
		padding-left: calc(var(--level) * 10);
		border: 1px solid black;
	}
</style>
