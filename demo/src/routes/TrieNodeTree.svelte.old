<script lang="ts">
	import type { TrieNode } from 'trie-search';
	import { createTrieLevels } from './createTrieLevels';

	export let node: TrieNode<string>;

	$: levels = createTrieLevels(node);

	$: console.log(levels);
</script>

<div class="tree">
	{#each levels as level}
		<div>
			{#each level as node, i}
				{#if i > 0}&nbsp;|&nbsp;{/if}
				{node.value === ' ' ? '_' : node.value}({node.searchIndices}){node.searchIndices ? node.searchIndices.join(',') : ''}
			{/each}
		</div>
	{/each}
</div>

<style>
	.tree {
		font-family: 'Courier New', Courier, monospace;
	}
</style>
